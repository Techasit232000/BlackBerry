<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BlackBerry Dynamics: Single-Source BlackBerry Dynamics Socket</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen_13.1.0.48.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra_13.1.0.48.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="titleheadings">
	<ul> 
		<li id="projectlogo">
	 		<a id="corplink" href="https://blackberry.com/"><img alt="Logo" src="BlackBerryLogo.png"/></a></li>
	 	<li id="projectname">BlackBerry Dynamics</li>
	  	<li id="projectbrief">Runtime library for iOS applications</li>
	  	<li id="projectnumber">13.1.0.48</li>
	 </ul>
	</div>
	 <div id="titlelinks">
	 		<a href="https://developers.blackberry.com">BlackBerry Developers</a>
	 </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__ss_g_d_socket.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Single-Source BlackBerry Dynamics Socket</div>  </div>
</div><!--header-->
<div class="contents">
<p>The BlackBerry Dynamics socket is for bi-directional data communication between the mobile application on the device and an application server. The application server can be on the Internet, or behind the enterprise firewall. Use of a Secure Socket Layer and Transport Layer Security (SSL/TLS) are supported.</p>
<p>The functions in this class cannot be called until BlackBerry Dynamics authorization processing is complete.</p>
<p>BlackBerry Dynamics secure communication does not go via the proxy specified in the device's native settings, if any. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interface_g_di_o_s.html">GDiOS</a>, for BlackBerry Dynamics authorization. </dd>
<dd>
<a class="el" href="threads.html">Thread support statement</a> </dd>
<dd>
<a class="el" href="background_execution.html">Background Execution</a> </dd>
<dd>
<a class="el" href="interface_g_d_http_request.html" title="Standards-based HTTP request, also supporting HTTPS and communication across the firewall (deprecated...">GDHttpRequest</a> </dd>
<dd>
<a class="el" href="interface_g_d_net_utility.html" title="BlackBerry Dynamics proxy infrastructure network utilities.">GDNetUtility</a> </dd>
<dd>
<a href="https://docs.blackberry.com/en/endpoint-management/blackberry-uem/" target="_blank">Manuals page for the BlackBerry Dynamics enterprise servers</a> for the Platform Overview.</dd></dl>
<h3>Overview</h3>
<p>The BlackBerry Dynamics socket programming interface is asynchronous and state-based. The application attaches its own event-handler callbacks to the socket object. The callback functions are invoked when socket events occur, or when the socket changes state. Which functions can be called by the application at any time depend on the socket's state.</p>
<p>Callbacks are attached through a delegate class. The states in which each callback may be expected to be invoked are detailed in the delegate class's documentation, see <a class="el" href="protocol_g_d_socket_delegate-p.html">GDSocketDelegate</a>.</p>
<p>The availability of functions, and what actions take place, are detailed below, and summarized in the following table. The table also summarizes which callbacks may expect to be invoked in each state. </p><table class="doxtable">
<tr>
<th>State</th><th>Functions / Actions</th><th><p class="starttd">Expected callbacks</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>Prepared </td><td>Application can call <code>connect</code>: state becomes Connecting<br  />
 Application can call <code>disableHostVerification</code>: no state change<br  />
 Application can call <code>disablePeerVerification</code>: no state change </td><td><p class="starttd">None</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Connecting </td><td>Open socket connection to server </td><td><p class="starttd"><code>onErr</code>: no state change<br  />
 <code>onOpen</code>: new state is Open</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Open </td><td>Application can call <code>disconnect</code>: state becomes Disconnecting<br  />
 Application can call <code>write</code>: No state change </td><td><p class="starttd"><code>onRead</code>: no state change<br  />
 <code>onErr</code>: no state change<br  />
 <code>onClose</code>: new state is Disconnected</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Disconnecting </td><td>Close socket connection </td><td><p class="starttd"><code>onRead</code>: no state change<br  />
 <code>onErr</code>: no state change<br  />
 <code>onClose</code>: new state is Disconnected</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Disconnected </td><td>Application can call <code>connect</code>: state becomes Connecting </td><td><p class="starttd">None</p>
<p class="endtd"></p>
</td></tr>
</table>
<p>The transitions in the above table are also shown in the <a class="el" href="st02gdsocket.html">GDSocket state transition diagram</a></p>
<h3>Sending and Receiving Data</h3>
<p>Sending data through a BlackBerry Dynamics socket is a two-stage operation. The first stage is to add the data to the socket's outbound buffer. The socket's outbound buffer is represented by the <code>writestream</code> property, and is accessed using the BlackBerry Dynamics direct byte buffer interface. The second stage is to send the contents of the buffer through the socket connection. To send the buffer, call the <code>write</code> function.</p>
<p>Reading data from a BlackBerry Dynamics socket is asynchronous. When data is received at the device, the data is stored in the socket's inbound buffer. The application is then notified that data is available to read, by invocation of the delegate <code>onRead</code> callback. In the callback, the application consumes the received data from the inbound buffer. The inbound buffer is represented by the <code>readStream</code> property, and is accessed using the BlackBerry Dynamics direct byte buffer interface.</p>
<h3>SSL/TLS Security</h3>
<p>The BlackBerry Dynamics socket interface supports use of a Secure Socket Layer or Transport Layer Security (SSL/TLS) to send and receive data.</p>
<p>Using SSL/TLS requires that the remote end has a suitable certificate, and that the certificate is valid. A number of checks for validity are made by the BlackBerry Dynamics runtime, some of which can be switched off by the application.</p>
<p>A typical secure socket connection sequence would be as follows. The application makes a first connection attempt. In the first attempt, all checking is switched on. If a security error is encountered, this attempt will fail. The application can then switch off some checking, and make a second connection attempt to the same address as the first connection attempt. With less rigorous checking, the second attempt may succeed where the first failed.</p>
<p>The relevant parts of the API are:</p><ul>
<li>Use of SSL/TLS is specified by including <code>andUseSSL:</code>&#160;<code>YES</code> in the call to the <code>init</code> function.</li>
<li>Security errors are treated the same as connection failures.</li>
<li>The functions <code>disableHostVerification</code> and <code>disablePeerVerification</code> are used to reduce the level of security checking. Setting <code>disablePeerVerification</code> implicitly sets <code>disableHostVerification</code>.</li>
</ul>
<h4>Secure Protocol Selection</h4>
<p>Establishing an SSL/TLS connection can involve negotiating and retrying, in order to select a secure protocol that is supported by both client and server. The BlackBerry Dynamics runtime handles client-side negotiation and retrying, if secure communication is in use.</p>
<p>By default, the runtime won't offer the TLSv1.1 or TLSv1.2 protocols for SSL/TLS connections with an application server.</p>
<p>The runtime can be configured to offer these protocols, as follows.</p><ol type="1">
<li>Add a new row to the application's Info.plist file:<ul>
<li>Key: <code>GDControlTLSVersions</code></li>
<li>Type: <code>String</code> (the default)</li>
</ul>
</li>
<li>Set the value to:<ul>
<li><code>GDEnableTLS1.1</code> to enable the TLSv1.1 protocol.</li>
<li><code>GDEnableTLS1.2</code> to enable both TLSv1.1 and TLSv1.2 protocols.</li>
</ul>
As an alternative, the value can instead be an array containing one or both of the above strings as separate items.</li>
</ol>
<p>(*In case there are multiple Info.plist files, check that the correct one has been edited by opening the Info tab of the application target being built. The setting just made should appear there.)</p>
<p>The setting only affects connections to application servers, not the connection with the BlackBerry Dynamics infrastructure itself. The protocols aren't offered by default because there are many installed web servers with which a connection cannot be established after one of these protocols has been offered.</p>
<p>In addition to the above, the following protocol versions can be blocked by enterprise management console configuration. </p><div class="bulletlists"><ul>
<li>SSLv3</li>
<li>TLSv1.0</li>
<li>TLSv1.1</li>
<li>TLSv1.2</li>
</ul>
</div><p>The configuration of blocked protocol versions can be done in the enterprise management console user interface. The configuration applies at the deployment level and isn't specific to user, policy group, or application server. The block only affects communication with application servers that is routed via the BlackBerry Dynamics proxy infrastructure.</p>
<h3>Enterprise server connection notes</h3>
<p>BlackBerry Dynamics secure communication can be used to connect to servers that are behind the enterprise firewall. This applies to socket connections and HTTP requests. Note the following when using this capability.</p>
<p>The addresses of any application servers to which connection is being made must be configured in the enterprise management console. The address could be registered as the application's server, or as an additional server, for example.</p>
<p>Note. The application server configuration set in the management console can be obtained in the application code by using the <a class="el" href="interface_g_di_o_s.html#a3265c6148406a8850ba673b26e472ece">getApplicationConfig (GDiOS) </a> function.</p>
<p>The connection to the application server will be made through the BlackBerry Dynamics proxy infrastructure. The status of the application's connection to the proxy infrastructure can be checked and monitored by using the <a class="el" href="interface_g_d_reachability.html" title="BlackBerry Dynamics infrastructure connection status.">GDReachability</a> interface.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="developmentguides.html#GC">System administration tasks</a> </dd>
<dd>
<a class="el" href="interface_g_d_reachability.html">GDReachability </a> class reference. </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
Generated Wed Mar 12 2025 12:06:26
with v1.8.17 <a href="http://www.doxygen.org/index.html" target="_blank">doxygen</a >.
Version 13.1.0.48.
© 2025 BlackBerry Limited. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
