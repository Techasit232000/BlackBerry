<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BlackBerry Dynamics: Single-Source BlackBerry Dynamics Services</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen_13.1.0.48.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra_13.1.0.48.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="titleheadings">
	<ul> 
		<li id="projectlogo">
	 		<a id="corplink" href="https://blackberry.com/"><img alt="Logo" src="BlackBerryLogo.png"/></a></li>
	 	<li id="projectname">BlackBerry Dynamics</li>
	  	<li id="projectbrief">Runtime library for iOS applications</li>
	  	<li id="projectnumber">13.1.0.48</li>
	 </ul>
	</div>
	 <div id="titlelinks">
	 		<a href="https://developers.blackberry.com">BlackBerry Developers</a>
	 </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__ss_g_d_services.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Single-Source BlackBerry Dynamics Services</div>  </div>
</div><!--header-->
<div class="contents">
<p>AppKinetics is a means of exchanging data and commands securely between two BlackBerry Dynamics applications running on the same mobile device or computer. The security of data isn't compromised during exchange.</p>
<p>AppKinetics interactions follow a service consumer-provider model. One application initiates communication by sending a service request to another. The initiating application is the service consumer. The application that receives the request is the service provider.</p>
<p>After receiving the service request, the provider executes the necessary processing and could then send a service response back to the consumer. Both the service request and the service response, if any, can contain a number of parameters and file attachments. See under Service Parameters and File Attachments, below.</p>
<p>The sequence of programming interfaces used in a typical AppKinetics interaction is as follows.</p><ol type="1">
<li>The consumer application executes a service discovery query, by calling <a class="el" href="interface_g_di_o_s.html#a80d4ad9d611c68bb209e68fc0de31177">getServiceProvidersFor: (GDiOS) </a>.</li>
<li>The consumer application calls <a class="el" href="interface_g_d_service_client.html#a9e2b3dea669c3709dd94fffe2fbf052a">sendTo (GDServiceClient) </a>.</li>
<li>The <a class="el" href="protocol_g_d_service_delegate-p.html#ae373ed0a406559c5834d14428fd7977f">GDServiceDidReceiveFrom </a> callback in the provider application is invoked by the AppKinetics system.</li>
<li>The provider application executes any required processing and then calls <a class="el" href="interface_g_d_service.html#a07d79d97c3f6e59913ca98b1126cfe6a">replyTo (GDService) </a>.</li>
<li>The <a class="el" href="protocol_g_d_service_client_delegate-p.html#ac7add0fd040542b6f4f3b3eb28b04169">GDServiceClientDidReceiveFrom </a> callback in the consumer is invoked by the AppKinetics system.</li>
</ol>
<p>Note that an AppKinetics interaction can be initiated with any BlackBerry Dynamics application whose native application identifier is known in the service consumer. The identifier could be known by being present in the application code or, as shown in the above, could be obtained at run time by using BlackBerry Dynamics service discovery.</p>
<p>Note that the service provider does not necessarily send a response, i.e. the call to <code>replyTo</code> and subsequent invocation of the callback in the consumer do not necessarily take place. The service definition specifies when and whether the provider sends a response, see under Service Definition, below.</p>
<p>The data for requests and responses is sent across a secure connection. The connection is established and maintained as necessary by the BlackBerry Dynamics runtime. This is transparent to the applications, although not always to the end user because the user interface may sometimes "flip" between applications during AppKinetics interaction. See also the Foreground Execution section, below.</p>
<p>AppKinetics cannot be used in <a class="el" href="enterprisesimulation.html">Enterprise Simulation mode</a>.</p>
<h3>Service Definition</h3>
<p>A service provided by an application may conform to a declared service definition. The declaration, if there is one, will specify the following.</p><ul>
<li>Identifier and version of the service, conventionally a reversed Internet domain followed by a number of sub-domains separated by full stops (periods). Formally, service identifiers conform to the &lt;subdomain&gt; format defined in section 2.3.1 of <a href="http://www.ietf.org/rfc/rfc1035.txt" target="_blank">RFC1035</a>.</li>
<li>Methods that comprise the service.</li>
<li>Expected parameters to service requests, per method.</li>
<li>Expected file attachments to service requests, per method.</li>
<li>Whether and in what circumstances service responses will be issued, per method.</li>
<li>What types of service response will be issued, per method.</li>
<li>Expected parameters to service responses, per method and per type.</li>
<li>Expected file attachments to service responses, per method and per type.</li>
<li>Error conditions that are specific to the service.</li>
</ul>
<p>An application that registers as providing a service for which there is a definition must adhere to the definition. Similarly, an application that consumes a service that is based on a declared definition should only send requests that conform to the definition.</p>
<p>The service definition for a public service may be published to the BlackBerry Dynamics application developer portal. The published definition may include a link to additional reference documentation for the service. In any case, the reference documentation may be obtained from the developer of a service provider application, or from the creator of the service definition.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i_c_c_service_definition.html">Application-Based Service Definition</a> for a description of BlackBerry Dynamics service definition.</dd></dl>
<h3>Service Parameters</h3>
<p>An AppKinetics service request can include a number of parameters, sent by the consumer. Service responses can also include parameters, sent by the provider to convey detailed results to the consumer. The parameters in a request or response are always provided to the application as a single object. AppKinetics supports a number of types of service parameter object.</p>
<p>BlackBerry Dynamics service definitions declare the expected types of parameter object for requests and responses for each method in a service. The BlackBerry Dynamics service definition language uses platform-independent terms for the declaration. The terms, and the native types that would be used to represent a parameter of that type, are listed in the following table. </p><table class="doxtable">
<tr>
<th>Service Definition </th><th>Native </th></tr>
<tr>
<td>string </td><td><p class="starttd"><code>NSString</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>number </td><td><p class="starttd"><code>NSNumber</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>integer </td><td><p class="starttd"><code>NSNumber</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>boolean </td><td><p class="starttd"><code>NSNumber</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>null </td><td><p class="starttd"><code>NSNull</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>UInt8Array </td><td><p class="starttd"><code>NSData</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>array </td><td><p class="starttd"><code>NSArray</code> of any of the simple types listed above.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>object </td><td><p class="starttd"><code>NSDictionary</code> of key-value pairs, with any of the above types as values.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p>Note that the service identifier, version, and method name are not service parameters as such and are not included in the parameters object.</p>
<p>Error responses can include additional details of the error condition. For example, if a parameter exceeds a maximum value, then the additional details could include the value of the maximum. Additional details are specified in the service definition, per condition, in the same way as service parameters. Additional detail values are handled as entries in the <code>userInfo</code> dictionary in an <code>NSError</code> object.</p>
<h3>File Attachments</h3>
<p>An AppKinetics service request can include a number of file attachments specified by the consumer. Service responses can also include file attachments, if these are sent by the provider as results.</p>
<p>File attachments are sent from the secure store of one application, and copied to the secure store of the other application. Deletion of the recipient's copy of the file is the responsibility of the recipient application. The AppKinetics system doesn't delete copies of files that were attached to a request or response.</p>
<p>In the programming interface, the sending application specifies file attachments as paths in its secure store. The AppKinetics system copies the files to the receiving application's secure store, and then invokes a callback in the receiving application. The callback is passed the paths of the copies, which it can then open in the usual manner.</p>
<p>The AppKinetics system uses the following naming convention to construct the paths of the receiving application's copies.<br  />
<em>Inbox Directory</em><code>/</code> <em>Sender</em><code>/</code> <em>Reference time</em><code>/</code> <em>Original Path</em><br  />
Where:<br  />
<em>Sender</em> is the native application identifier of the sending application.<br  />
<em>Reference time</em> is the date and time at which the AppKinetics system started handling the file attachments, down to a millisecond resolution.</p>
<p>Note that all the files attached to a particular service request or response will be placed under one directory. This means that the receiving application can delete all these files in a single operation, by deleting the directory.</p>
<p>The AppKinetics system supports the sending of empty files in the current release, but did not in some earlier releases.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interface_g_d_file_manager.html">GDFileManager</a> for the secure <a class="el" href="doc_2_g_d_file_system_8h.html#a40e17997f5893c9defb46f75f756626b">file</a> system programming interface.</dd></dl>
<h3>Foreground Execution</h3>
<p>An AppKinetics service request can specify a preference that the application that provides the service executes in foreground in order to process the request. This could be used when request processing always requires user interaction, for example if the service is a special web browser or document editor. See the <code>option</code> parameter of the <a class="el" href="interface_g_d_service_client.html#a9e2b3dea669c3709dd94fffe2fbf052a">sendTo (GDServiceClient) </a> function.</p>
<p>Similarly, an AppKinetics service response can specify a preference that the service consumer application executes in foreground in order to process the response. This might be used to return the original application to the foreground. See the <code>option</code> parameter of the <a class="el" href="interface_g_d_service.html#a07d79d97c3f6e59913ca98b1126cfe6a">replyTo (GDService) </a> function.</p>
<p>It is also possible that a service provider itself determines its need to execute in foreground in order to process a particular request, after the request has been received. This is supported in AppKinetics by use of the <em>front request </em>programming interface.</p>
<p>The front request interface has two parts: send and receive. In principle, any BlackBerry Dynamics application can send a front request to any other BlackBerry Dynamics application, and any BlackBerry Dynamics application could receive a front request from any other BlackBerry Dynamics application. In practice, a front request is only sent to the consumer of a service by the provider of the service.</p>
<p>The following scenario illustrates the typical sequence of events in which front request is utilized.</p><ol type="1">
<li>Service consumer application sends a request that is to be executed in background.</li>
<li>Service provider application receives the request but determines that processing can only take place in foreground.</li>
<li>Service provider sends a front request to the service consumer. See under Front Request Programming Interface, below, for details.</li>
<li>Service consumer receives the front request. See under Front Request Programming Interface, below, for details.</li>
<li>Service consumer brings the provider to the foreground, by calling the <a class="el" href="interface_g_d_service_client.html#a294891a5e5029688833a586087d014ae">bringToFront: </a> function.</li>
<li>Service provider completes processing of the original request.</li>
</ol>
<p>Note that the service consumer could also leave the provider in background, in which case the service request would be expected to fail in some way.</p>
<p>A service provider might need to process a service request in foreground because:</p><ul>
<li>User interaction is necessary, and this wasn't predicted in the service consumer before the service request was sent.</li>
<li>The time needed to process the request exceeds the time that is likely to be allowed to the provider to run in background.</li>
</ul>
<p>In general, only the application that is currently running in foreground can bring another application to the foreground. In the scenario that neither the service consumer nor provider are in foreground, for example because the user chose to take a call or started a third application, then neither application can be brought to foreground by the other.</p>
<h3>Front Request Programming Interface</h3>
<p>The programming interface for front request is defined as a BlackBerry Dynamics service within AppKinetics.</p>
<p>The formal service definition of front request is as follows. </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;service-id&quot;</span>: <span class="stringliteral">&quot;com.good.gd.icc&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;version&quot;</span>: <span class="stringliteral">&quot;1.0.0.0&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;title&quot;</span>: <span class="stringliteral">&quot;ICC Service &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>: <span class="stringliteral">&quot;ICC is a special Good Dynamics service created by Good</span></div>
<div class="line"><span class="stringliteral">Technology. This service is for control of the Inter-Container Communication</span></div>
<div class="line"><span class="stringliteral">channel.&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;methods&quot;</span>: {</div>
<div class="line">        <span class="stringliteral">&quot;FRONT_REQ&quot;</span>: {</div>
<div class="line">            <span class="stringliteral">&quot;description&quot;</span>: <span class="stringliteral">&quot;The service consumer calls this method to request</span></div>
<div class="line"><span class="stringliteral">that the service provider places the service consumer in foreground.&quot;</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>To send a front request, then, an application calls the <code>sendTo:</code> function, with the following parameter values.</p><ul>
<li><code>sendTo:</code> the native application identifier of the other application, which typically will have been supplied in a <code>GDServiceDidReceiveFrom:</code> invocation resulting from the original service request.</li>
<li><code>withService:</code> the <code>GDFrontRequestService</code> constant, which always has the <code>service-id</code> value in the above.</li>
<li><code>withVersion:</code> <code>"1.0.0.0"</code></li>
<li><code>withMethod:</code> <code>"FRONT_REQ"</code>.</li>
<li><code>withParams:</code> <code>nil</code>.</li>
<li><code>withAttachments:</code> <code>nil</code>.</li>
<li><code>bringServiceToFront:</code> <code>GDENoForegroundPreference</code>.</li>
<li><code>requestID:</code> Location of a local pointer or <code>nil</code>, as for any call to <code>sendTo:</code></li>
<li><code>error:</code> Location of a local pointer or <code>nil</code>, as for any call to <code>sendTo:</code></li>
</ul>
<p>This causes a front request to be sent through the AppKinetics system.</p>
<p>The AppKinetics system will deliver the front request in the same way as any other service request, by invoking a callback in the provider application to which the request is addressed. Note that, in the typical case, the service provider here will actually be the application that was originally the service consumer. This means that any application that consumes a service whose provider might send back a front request must itself be a provider of the Front Request service. This includes meeting the generic requirements for all service provider applications, which are detailed under Service Provider Requirements, below.</p>
<p>The invoked callback's application code for handling a front request service request should be restricted to:</p><ul>
<li>Identifying the received service request as a front request.</li>
<li>Any checks that are required to determine whether the application should yield foreground execution to the application that sent the front request.</li>
<li>A call to the <a class="el" href="interface_g_d_service_client.html#a294891a5e5029688833a586087d014ae">bringToFront: </a> function, to be executed if all checks pass.</li>
</ul>
<p>A minimal handler would identify a front request, make no checks, and then always call the <a class="el" href="interface_g_d_service_client.html#a294891a5e5029688833a586087d014ae">bringToFront: </a> function.</p>
<p>Note that the front request service definition doesn't contain any service responses nor errors so the application mustn't send any. If the application code checks don't pass and foreground execution isn't to be yielded, then the application need take no action.</p>
<p>The following code snippet gives a simple utility function that could be utilized in a callback as outlined above. </p><div class="fragment"><div class="line">+ (BOOL)consumeFrontRequestService:(NSString*) serviceID forApplication:(NSString*) application forMethod:(NSString*) method withVersion:(NSString*)version</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">if</span>([serviceID isEqual:<a class="code" href="group__iccconstants.html#ga510ab6e744816430857cbe3a35159361">GDFrontRequestService</a>] &amp;&amp; [version isEqual:<span class="stringliteral">@&quot;1.0.0.0&quot;</span>])</div>
<div class="line"> {</div>
<div class="line">     <span class="keywordflow">if</span>([method isEqual:<a class="code" href="group__iccconstants.html#gaf61e11d1ca4a1cc00e703611d76f9357">GDFrontRequestMethod</a>])</div>
<div class="line">     {</div>
<div class="line">         [<a class="code" href="interface_g_d_service.html">GDService</a> bringToFront:application completion:^(BOOL success) { } error:nil];</div>
<div class="line">         <span class="keywordflow">return</span> YES;</div>
<div class="line">     }</div>
<div class="line"> }</div>
<div class="line"> <span class="keywordflow">return</span> NO;</div>
<div class="line">}</div>
</div><!-- fragment --><h3>Service Provider Requirements</h3>
<p>The following requirements apply to BlackBerry Dynamics applications that are service providers.</p>
<h4>Function as a service provider</h4>
<p>To function as an AppKinetics service provider, a BlackBerry Dynamics application must:</p><ul>
<li>Instantiate a single object of the <code>GDSer</code><code>vice</code> class.</li>
<li>Set the <code>delegate</code> property to point to an object of a class that implements the <code><a class="el" href="protocol_g_d_service_delegate-p.html" title="AppKinetics service provider implementation.">GDServiceDelegate</a></code> protocol, typically <code>self</code>.</li>
<li>Register the AppKinetics URL type on the device. This will normally be achieved by utilizing the mandatory BlackBerry Dynamics build-time configuration, as detailed in the <a class="el" href="interface_g_di_o_s.html">GDiOS</a> class reference.</li>
</ul>
<p>Note that an application that provides multiple services still instantiates only a single object of this class. The delegate of the object handles requests for all the services that the application provides.</p>
<h4>Returned by service discovery query</h4>
<p>To be on the list returned by a service discovery query, an application must be registered as a service provider. Register the application as a service provider:</p><ul>
<li>In the enterprise management console, if an in-house application.</li>
<li>Via the application developer portal, if a partner application.</li>
</ul>
<p>In either user interface, enter the native bundle identifier of the application, for example "com.example.application.name". Different bundle identifiers can be entered for different device types.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interface_g_di_o_s.html#a80d4ad9d611c68bb209e68fc0de31177">getServiceProvidersFor: (GDiOS) </a> for details of the service discovery programming interface. </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="ainterface_g_d_service_html"><div class="ttname"><a href="interface_g_d_service.html">GDService</a></div><div class="ttdoc">AppKinetics service provider.</div><div class="ttdef"><b>Definition:</b> platform/apple/ios/build/BlackBerryDynamics.framework/Headers/GDServices.h:813</div></div>
<div class="ttc" id="agroup__iccconstants_html_gaf61e11d1ca4a1cc00e703611d76f9357"><div class="ttname"><a href="group__iccconstants.html#gaf61e11d1ca4a1cc00e703611d76f9357">GDFrontRequestMethod</a></div><div class="ttdeci">NSString *const GDFrontRequestMethod</div><div class="ttdoc">Method name for the Front Request API.</div></div>
<div class="ttc" id="agroup__iccconstants_html_ga510ab6e744816430857cbe3a35159361"><div class="ttname"><a href="group__iccconstants.html#ga510ab6e744816430857cbe3a35159361">GDFrontRequestService</a></div><div class="ttdeci">NSString *const GDFrontRequestService</div><div class="ttdoc">BlackBerry Dynamics service ID for Front Request.</div></div>
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
Generated Wed Mar 12 2025 12:06:26
with v1.8.17 <a href="http://www.doxygen.org/index.html" target="_blank">doxygen</a >.
Version 13.1.0.48.
© 2025 BlackBerry Limited. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
