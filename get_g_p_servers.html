<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BlackBerry Dynamics: Enterprise access point server list API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen_13.1.0.48.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra_13.1.0.48.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="titleheadings">
	<ul> 
		<li id="projectlogo">
	 		<a id="corplink" href="https://blackberry.com/"><img alt="Logo" src="BlackBerryLogo.png"/></a></li>
	 	<li id="projectname">BlackBerry Dynamics</li>
	  	<li id="projectbrief">Runtime library for iOS applications</li>
	  	<li id="projectnumber">13.1.0.48</li>
	 </ul>
	</div>
	 <div id="titlelinks">
	 		<a href="https://developers.blackberry.com">BlackBerry Developers</a>
	 </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('get_g_p_servers.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Enterprise access point server list API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BlackBerry Proxy acts as an enterprise access point for a number of services that can be used by application servers. For example, the Push Channel back-end interface can be accessed through this enterprise access point.</p>
<p>The legacy Good Proxy also acts as an access point, for the same services.</p>
<p>For resilience and capacity, an enterprise can deploy multiple access point servers, in clusters. Any server can be used as an access point for any service, so an application server (App Server) can benefit from the increased resilience and capacity of clustered deployment.</p>
<dl class="section see"><dt>See also</dt><dd>BlackBerry Dynamics enterprise server documentation on the <a href="https://help.blackberry.com" target="_blank">help and manuals website</a> for background on server clustering in a BlackBerry Dynamics deployment.</dd></dl>
<h3>Services</h3>
<p>The following application programming interface (API) is offered to App Servers by the BlackBerry Dynamics platform to enable the benefits of clustering. <a href="#getGPServers_service">getGPServers</a> Get a list of servers that can be used to access services.</p>
<h3>Addressing Service Requests</h3>
<p>The access point for services in this API is a BlackBerry Dynamics server that forms the part of the BlackBerry Dynamics proxy infrastructure that is installed on the enterprise network.</p>
<p>Requests can be addressed to an access point by specifying its server address and port number directly. Requests could also be addressed indirectly, through a load balancer, virtual IP address, or other component of the enterprise network. The server address would be provided by the enterprise's IT or network administration. By default, a BlackBerry Dynamics enterprise access point will accept:</p><ul>
<li>Plain HTTP connections on port 17080.</li>
<li>Secure HTTP connections on port 17433.</li>
</ul>
<p>It is recommended that production App Servers connect over a secure connection, and that plain HTTP is only used during the development phase. See under Certificates for Service Requests, below, for details of the electronic certificates that could be required when addressing service requests on a secure connection. Any certificates that are required should be obtained from the enterprise IT or network administration.</p>
<p>Note that the main purpose of this API is actually to provide a list of server addresses, which means that a "bootstrap" approach should be taken. The address of a single access point server could be provided when the App Server is installed. The App Server can then send a service request to that server, which will in turn provide a list of all the access point servers in the deployment for use going forwards. See under the <a href="#getGPServers_service">getGPServers Service</a>, below, for details of the API.</p>
<h3>Certificates for Service Requests</h3>
<p>Service requests in this API can be sent over a secure HTTP connection, the establishment of which requires the usual presentation and trusting of electronic certificates.</p>
<p>When service requests are addressed to an enterprise access point over a secure connection, its certificate must be trusted by the App Server. The certificate presented will be one of the following:</p><ul>
<li>Certificate signed by the Certificate Authority (CA) generated for the management console during installation.</li>
<li>Certificate signed by an Enterprise CA.</li>
<li>Certificate signed by a trusted third party CA.</li>
</ul>
<p>The first of these is the default, applying unless action has been taken to install a different root CA on the management console.</p>
<p>If the certificate is signed by a management console or Enterprise CA, then a corresponding CA certificate must also be installed on the App Server as a trusted CA. If no such certificate is installed, the App Server will not be able to establish a secure HTTP connection to the access point, and hence won't be able to send service requests.</p>
<p><a class="anchor" id="getGPServers_service"></a></p><h3>getGPServers Service</h3>
<p>Call this service to obtain a list of access point servers. The list is specific to a particular App Server, depending on clustering and affinity configuration in the enterprise management console.</p>
<p>Service requests can be addressed to any of the access point servers on the list. In the case that the list contains more than one server, the recommended selection algorithm is as follows.</p><ol type="1">
<li>For each priority value in the list, starting with the highest:</li>
<li>Select a server that has that priority, at random.</li>
<li>Attempt to connect to the server.</li>
<li>If connection succeeds, use that server.</li>
<li>If connection fails, try another server at the same priority, at random.</li>
<li>If there are no more untried servers at that priority, try the servers at the next lower priority.</li>
</ol>
<p>App Servers should poll the service at least daily, to update their lists of access point servers.</p>
<dl>
<dt>Method</dt>
<dd><code>GET</code></dd>
<dt>Path</dt>
<dd><code>/getGPServers</code></dd>
<dt>Protocol</dt>
<dd><code>HTTP/1.1</code></dd>
<dt>Host</dt>
<dd><p class="startdd"> <span class="server_param">Enterprise access point address and port number</span></p>
<p class="enddd">See under Addressing Service Requests, above, for details. This is a standard HTTP field.</p>
</dd>
<dt>Parameters</dt>
<dd><dl>
<dt><code>server=</code> <span class="server_param">configuredAddress</span></dt>
<dd>Mandatory parameter specifying the address of the App Server that is calling the service. The value must be as it appears in the enterprise management console user interface.</dd>
<dt><code>port=</code> <span class="server_param">portNumber</span></dt>
<dd><p class="startdd">Parameter specifying the port number of the App Server that is calling the service.</p>
<p class="enddd">If a port number is set for the App Server in the enterprise management console, then this parameter is mandatory. The value of this parameter must then be the same as the port number that is set in the console.</p>
</dd>
</dl>
</dd>
<dt>Response</dt>
<dd>The service returns a standard HTTP/1.1 response. The status will be 200, if the service received the request. A <code>Content-Length</code> header will be included. No other response headers will be included.</dd>
<dt>Response body</dt>
<dd><p class="startdd">The response body will contain a list of servers in a JavaScript Object Notation (JSON) string.</p>
<p class="enddd">The returned string will evaluate to an object with a single attribute. The attribute will be an array of objects, with each object containing the details for one access point server. Each access point server object will contain two attributes:</p><dl>
<dt><code>"server"</code></dt>
<dd>A string containing the address of the server.</dd>
<dt><code>"priority"</code></dt>
<dd>A numeric representation of the priority of the server. Lower numbers represent higher priority, with 1 representing the highest.</dd>
</dl>
<p>If the server address specified in the request parameter is not configured, then the array will be empty.</p>
</dd>
<dt>Examples</dt>
<dd><h3>List of Servers</h3>
<p class="interdd">The following is an example of a request to the service. </p><div class="fragment"><div class="line">GET /getGPServers?server=app-server.corp.example.com&amp;port=8100 HTTP/1.1</div>
<div class="line">Host: gp1.corp.example.com:17433</div>
</div><!-- fragment --><p> The following is an example response. </p><div class="fragment"><div class="line">HTTP/1.1 200 OK</div>
<div class="line">Content-Length: 265</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;gpServers&quot;</span>: [</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;server&quot;</span>: <span class="stringliteral">&quot;gp1.corp.example.com&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;priority&quot;</span>: 1</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;server&quot;</span>: <span class="stringliteral">&quot;gp2.corp.example.com&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;priority&quot;</span>: 1</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="stringliteral">&quot;server&quot;</span>: <span class="stringliteral">&quot;gpbackup.corp.example.com&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;priority&quot;</span>: 2</div>
<div class="line">        }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> In this case, the details for three access point servers have been returned. Two of the servers have primary priority, the other has secondary priority.</p>
<h3>No Servers</h3>
<p class="enddd">The following is an example of a request to the service. </p><div class="fragment"><div class="line">GET /getGPServers?server=hub&amp;port=8100 HTTP/1.1</div>
<div class="line">Host: gp1.corp.example.com:17433</div>
</div><!-- fragment --><p> The following is an example response. </p><div class="fragment"><div class="line">HTTP/1.1 200 OK</div>
<div class="line">Content-Length: 35</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;gpServers&quot;</span>: [</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> In this case, the supplied server name in the request was not configured and the response therefore includes an empty array.</p>
</dd>
</dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="server_a_p_ilist.html">Back-End APIs</a></li>
    <li class="footer">
Generated Wed Mar 12 2025 12:06:26
with v1.8.17 <a href="http://www.doxygen.org/index.html" target="_blank">doxygen</a >.
Version 13.1.0.48.
© 2025 BlackBerry Limited. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
